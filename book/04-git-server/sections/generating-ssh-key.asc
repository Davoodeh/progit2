[[_generate_ssh_key]]
=== ساخت کلید عمومی SSH

(((SSH keys)))

بسیاری از سرور‌های گیت به وسیله کلید عمومی SSH تصدیق هویت می‌کنند.
برای تهیه کردن یک کلید عمومی، هر کاربر در سیستم شخصی خود باید یکی از آن را اگر ندارد بسازد.
این فرایند در همه‌ی سیستم‌های عامل یکسان است.
اول، شما باید بررسی کنید که از قبل کلید عمومی نساخته باشید.
به صورت پیش فرض، کلید SSH هر کار در پوشه `ssh./~` ذخیره‌ می‌شود.
شما می‌توانید به سادگی پوشه را چک کنید محتوای پوشه را لیست کنید:

[source,console]
----
$ cd ~/.ssh
$ ls
authorized_keys2  id_dsa       known_hosts
config            id_dsa.pub
----

شما به دنبال یک فایل با نامی شبیه به `id_dsa` یا `id_rsa` هستید و فایل با پسوند `pub.`.
فایل `pub.` کلید عمومی شما است و بقیه فایل‌ها با کلید خصوصی ارتباط دارند.
اگر این فایل‌ها(و یا حتی پوشه `ssh.`) را ندارید، می‌توانید آن‌ها را با اجرای برنا‌مه‌ای به نام `ssh-keygen` بسازید،
که همراه پکیج SSH در سیستم‌‌عامل‌های لینوکس/مک موجود است و همچنین همراه بسته نصبی گیت در ویندوز موجود است.

[source,console]
----
$ ssh-keygen -o
Generating public/private rsa key pair.
Enter file in which to save the key (/home/schacon/.ssh/id_rsa):
Created directory '/home/schacon/.ssh'.
Enter passphrase (empty for no passphrase):
Enter same passphrase again:
Your identification has been saved in /home/schacon/.ssh/id_rsa.
Your public key has been saved in /home/schacon/.ssh/id_rsa.pub.
The key fingerprint is:
d0:82:24:8e:d7:f1:bb:9b:33:53:96:93:49:da:9b:e3 schacon@mylaptop.local
----

اول از شما می‌خواهد که تایید کنید تا فایل (`ssh/id_rsa.`) کجا ذخیر شود و سپس از شما دوباره عبارت رمزی را خواهد پرسید،
که شما می‌توانید آن را خالی رها کنید اگه نیاز به رمزعبور ندارید، مطمئن شوید که از آپشن `o-` در دستور استفاده کرده‌اید؛
این کار کلید خصوصی را به نحوی ذخیره می‌کند در برابر حمله‌های بروت‌فورس مقاومت کند که این فرمت پیش‌فرض فایل کلید خصوصی است.
و دیگر اینکه می‌توانید از ابزار `ssh-agent` برای اجتناب از وارد کردن از رمزعبور هر بار برای آن استفاده کنید.

حالا، هر کاربر باید کلید عمومی خود را به شما یا هرکسی که مدیریت سرور گیت را بر عهده دارد ارسال کند( با توجه به اینکه شما تنظیمات
سرور را برپایه SSH انجام دادید پس به این ترتیب نیازمند کلیدهای عمومی است).
تمام کاری باید همه آن را انجام دهند این است که محتوای فایل `pub.` برای شما ایمیل کنند.
کلید عمومی چیزی شبیه به این است:

[source,console]
----
$ cat ~/.ssh/id_rsa.pub
ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEAklOUpkDHrfHY17SbrmTIpNLTGK9Tjom/BWDSU
GPl+nafzlHDTYW7hdI4yZ5ew18JH4JW9jbhUFrviQzM7xlELEVf4h9lFX5QVkbPppSwg0cda3
Pbv7kOdJ/MTyBlWXFCR+HAo3FXRitBqxiX1nKhXpHAZsMciLq8V6RjsNAQwdsdMFvSlVK/7XA
t3FaoJoAsncM1Q9x5+3V0Ww68/eIFmb1zuUFljQJKprrX88XypNDvjYNby6vw/Pb0rwert/En
mZ+AW4OZPnTPI89ZPmVMLuayrD2cE86Z/il8b+gw3r3+1nKatmIkjn2so1d01QraTlMqVSsbx
NrRFi9wrf+M7Q== schacon@mylaptop.local
----

برای آموزش عمیق‌تر درباره ساختن کلید SSH در سیستم‌عامل‌‌های مختلف، به صفحه راهنمای کلید SSH گیت‌هاب
به آدرس https://help.github.com/articles/generating-ssh-keys[] مراجعه کنید.
